{"version":3,"file":"ConsoleLogger.js","names":["ConsoleLogger","context","message","level","msg","LogLevel","toUpperCase","app","Debug","console","debug","formatMessage","Info","info","Warn","warn","Error","error","Fatal","log","Object","assign","buildConsoleLogger"],"sources":["../lib/ConsoleLogger.ts"],"sourcesContent":["import { ILogger, LogLevel } from './contracts'\n\nexport class ConsoleLogger implements ILogger {\n\n    private context: any\n\n    constructor(context: any) {\n        this.context = context\n    }\n\n    private formatMessage(message: string, level: LogLevel, context: any): string {\n        let msg = '[' + LogLevel[level].toUpperCase() + ']'\n        if (context && context.app) {\n            msg += ' ' + context.app + ': '\n        }\n        return msg + message\n    }\n\n    log(level: LogLevel, message: string, context: object) {\n\tif (level < this.context?.level) return;\n        switch (level) {\n            case LogLevel.Debug:\n                console.debug(this.formatMessage(message, LogLevel.Debug, context), context)\n                break\n            case LogLevel.Info:\n                console.info(this.formatMessage(message, LogLevel.Info, context), context)\n                break\n            case LogLevel.Warn:\n                console.warn(this.formatMessage(message, LogLevel.Warn, context), context)\n                break\n            case LogLevel.Error:\n                console.error(this.formatMessage(message, LogLevel.Error, context), context)\n                break\n            case LogLevel.Fatal:\n            default:\n                console.error(this.formatMessage(message, LogLevel.Fatal, context), context)\n                break\n        }\n    }\n\n    debug(message: string, context?: object): void {\n        this.log(LogLevel.Debug, message, Object.assign({}, this.context, context))\n    }\n\n    info(message: string, context?: object): void {\n        this.log(LogLevel.Info, message, Object.assign({}, this.context, context))\n    }\n\n    warn(message: string, context?: object): void {\n        this.log(LogLevel.Warn, message, Object.assign({}, this.context, context))\n    }\n\n    error(message: string, context?: object): void {\n        this.log(LogLevel.Error, message, Object.assign({}, this.context, context))\n    }\n\n    fatal(message: string, context?: object): void {\n        this.log(LogLevel.Fatal, message, Object.assign({}, this.context, context))\n    }\n\n}\n\nexport function buildConsoleLogger(context: any): ILogger {\n    return new ConsoleLogger(context)\n}\n"],"mappings":"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"}